Metadata-Version: 2.4
Name: presstalk
Version: 0.0.1
Summary: Local push-to-talk CLI with always-on capture and offline ASR
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: End Users/Desktop
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Environment :: MacOS X
Classifier: Topic :: Multimedia :: Sound/Audio :: Analysis
Classifier: Topic :: Utilities
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: pynput
Requires-Dist: faster-whisper
Requires-Dist: numpy
Requires-Dist: sounddevice

# PressTalk CLI

Local push‑to‑talk (PTT) with offline ASR. macOS-oriented, works entirely locally (no server required).

- Design: docs/design.md
- Usage: docs/usage.md

## Quick Start

```bash
uv venv && source .venv/bin/activate
uv pip install -e .

# Smoke test (no extra permissions needed)
uv run presstalk simulate

# Run (global hotkey is default)
uv run presstalk run
```
Tips:
- On first run, macOS prompts for Microphone and Accessibility permissions.
- Hold the chosen key (e.g., `ctrl`) to record; release to finalize and paste.

### Console Input mode (optional)

```bash
uv run presstalk run --console
```
- Type `p` then `r` to record/release, `q` to quit (no global hotkey).

## Install

Recommended with uv (or pip):

```bash
# Inside this repo (editable dev install)
uv pip install -e .

# Or, when published to PyPI (example)
# uv pip install presstalk
```

All runtime dependencies are included by default (pynput, faster-whisper, numpy, sounddevice).

## Dependencies

- Python 3.9+ on macOS 13+ recommended.
- Build tools: `xcode-select --install`.
- Audio backend (only if `sounddevice` build fails): `brew install portaudio`.
- Permissions: allow Microphone and Accessibility on first run.

## Run (examples)

```bash
uv run presstalk simulate --chunks hello world --delay-ms 40

uv run presstalk run \
  --mode hold \
  --language ja --model small --prebuffer-ms 200 --min-capture-ms 1800
```

See docs/usage.md for full instructions and permissions.
